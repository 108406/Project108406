<!DOCTYPE html>
<html lang="utf-8">

<head>
    <title>Plan Yourself</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/mywork.css">
    <link rel="stylesheet" href="css/triangle.css">
    <link rel="stylesheet" href="css/card-list-color.css">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC|Handlee" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap" rel="stylesheet">
</head>

<body>
    <!--------------------------navbar-------------------------------->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="nav-brand">PlanYourself</div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"
            aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
            <ul class="navbar-nav">
                <li>
                    <a href="#"> <i class="far fa-user fa-lg"></i>會員</a>
                </li>
                <li>
                    <a href="#"><i class="fas fa-book fa-lg"></i>計畫</a>
                </li>
                <li>
                    <a href="#"> <i class="far fa-edit fa-lg"></i>我的工作</a>
                </li>
            </ul>
            <form class="search">
                <input class="search-input" type="text" name="search" placeholder="Search">
                <a href="#"><i class="fas fa-search search-icon"></i></a>
            </form>
            <div class="study-logout">
                <button class="btn btn-light btn-navbar-study" type="submit" id="show-carousel">教學<i
                        class="fas fa-question-circle fa-lg" style="padding-left:5px;"></i></button>
                <button class="btn btn-danger btn-navbar-logout" type="submit" style="margin-left:0.5em;">登出</button>
            </div>
        </div>
    </nav>
    <!---------------------------內容---------------------------------->
    <div class="container-fluid">
        <!-----------------------左邊窗格----------------------->
        <div class="slider-left" id="slider-left">
            <div class="left-top">
                <div class="slider-header-name">
                    目前所在位置:
                </div>
                <div class="card mx-auto" style="width: 18rem; height:5rem;">
                    <div class="card-body">
                        <div class="card-title">
                            <div class="slider-card-list">
                                <div class="left-header-list" id="list_name"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr>
            <div class="slider-header-name">移動到:</div>
            <div class="left-bottom">
                <div class="card text-center mx-auto" style="width: 18rem;">
                    <div class="card-body">
                        <div class="card-title">
                            <div class="slider-card-list">
                                <div class="left-header-list">其他列表:</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <select class="form-control" id="options">
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <form class="slider-btn">
                <button type="button" class="btn btn-secondary button-submit" id="return">返回</button>
                <button type="button" class="btn btn-danger button-submit" style="margin-left:1em;">確定</button>
            </form>
        </div>
        <!-----------------------新手教學----------------------->
        <!-- <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="../public/imgs/photo-1.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="../public/imgs/photo-2.jpg" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="../public/imgs/photo-3.jpg" class="d-block w-100" alt="...">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div> -->
        <!-----------------------每項計畫----------------------->
        <div class="content">
            <div class="typesetting">
                <% for(var i=0; i<items.length; i++) { %>
                <div class="card mywork">
                    <% for(var p=0; p<items[i].project.length; p++) { %>
                    <!-----------------------標題----------------------->
                    <div class="header">
                        <div class="text"><%= items[i].project[p].project_name %></div>
                        <div class="switch-move-top">
                            <label class="switch-top">
                                <input type="checkbox" checked>
                                <span class="slider-top round-top"></span>
                            </label>
                        </div>
                    </div>
                    <hr class="highlight">
                    <!-----------------------內容----------------------->
                    <div class="body-show">
                        <!----------------列表---------------->
                        <% for(var lw=0; lw<items[i].listwork.length; lw++) { %>
                        <% for(var l=0; l<items[i].listwork[lw].list.length; l++) { %>
                        <a href="#" data-toggle="collapse" data-target=<%="#list-work-" + lw %> aria-expanded="true"
                            class="list-a" id="list-1">
                            <div class="card-list-1">
                                <div class="list-header"><%= items[i].listwork[lw].list[l].list_name %></div>
                                <button class="btn btn-link card-list-btn" type="button" data-toggle="collapse"
                                    data-target=<%="#list-work-" + lw %> aria-expanded="true">
                                    <div class="triangle-1"></div>
                                </button>
                            </div>
                        </a>
                        <% } %>
                        <!----------------工作---------------->
                        <% for(var w=0; w<items[i].listwork[lw].work.length; w++) { %>
                        <div class="collapse show work-total" id=<%="list-work-" + lw %>>
                            <div class="card-content">
                                <button class="btn btn-link btn-work" type="button" name="left-show" onclick="<%= "javascript:SetListInfo('" + 
                                    items[i].options + "', '" + 
                                    items[i].listwork[lw].list[0].list_name + "')" %>">
                                    <i class="fas fa-square"></i></button>
                                <a href="#" class="work-a" data-toggle="modal" data-target="#exampleModal"
                                    onmousemove="removeClassType(this)" onclick="
                                    <%= "javascript:SetWorkInfo('" + 
                                    items[i].listwork[lw].work[w].work_id + "', '" + 
                                    items[i].listwork[lw].work[w].work_title + "', '" + 
                                    items[i].listwork[lw].work[w].work_content + "', '" + 
                                    items[i].listwork[lw].work[w].deadline + "', '" + 
                                    items[i].listwork[lw].work[w].tag + "', '" + 
                                    items[i].listwork[lw].work[w].file + "', '" + 
                                    items[i].listwork[lw].work[w].first_principal + "', '" + 
                                    items[i].listwork[lw].work[w].second_principal + "')" %>
                                    ">
                                    <%= items[i].listwork[lw].work[w].work_title %>
                                </a>
                                <div class="switch-move">
                                    <label class="upload_cover">
                                        <input id="upload_input" type="file">
                                        <span class="upload_icon"><img src="./imgs/paperclip-2x.png"></span>
                                    </label>
                                    <label class="switch">
                                        <input type="checkbox" checked>
                                        <span class="slider round"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <% } %>
                        <% } %>
                    </div>
                    <div class="card-footer">
                    </div>
                    <% } %>
                </div>
                <% } %>
            </div>
        </div>
        <!----------------------- Modal ----------------------->
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel work_id">work title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color: #ffffff;">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="modal-text">
                            <p class="modal-text-name"></p>
                        </div>
                        <p class="modal-work-content" id="work_content">
                        </p>
                        <hr>
                        <p class="modal-text-name">截止日期</p>
                        <p class="modal-work-deadline" id="deadline"></p>
                        <hr>
                        <p class="modal-text-name">標籤</p>
                        <div class="tag-edit">
                            <a href="#" class="badge badge-warning" id="tag"></a>
                        </div>
                        <hr>
                        <p class="modal-text-name">檔案</p>
                        <a class="modal-work-file" download href="./zip/測試資料夾.zip">
                            <i class="fas fa-file-archive fa-lg" id="file"></i>
                        </a>
                        <hr>
                        <p class="modal-text-name">負責人</p>
                        <div class="modal-img">
                            <img src="imgs/people1.png" class="modal-img-photo" id="first_principal">
                            <img src="imgs/people1.png" class="modal-img-photo" id="second_principal">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">編輯</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-----------------------------------scrpit-------------------------------------------->
    <script>
        function SetWorkInfo(workId, workTitle, workContent, deadline, tag, file, firstPrincipal, secondPrincipal) {
            $('#work_id').text(workId);
            $('#work_title').text(workTitle);
            $('#work_content').text(workContent);
            $('#deadline').text(deadline);
            $('#tag').text(tag);
            $('#file').text(file);
            $('#first_principal').text(firstPrincipal);
            $('#second_principal').text(secondPrincipal);
        }
        function SetListInfo(options, listName) {
            var left = $('#slider-left').css("left");
            var opt = options.split(",");
            
            if (left == "0px") {
                for (var i = 0; i < opt.length; i++) {
                    $('#options').append("<option>" + opt[i] + "</option>")
                }
                $('#list_name').text(listName);
            } else {
                $('option').remove();
            }
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="js/slider-left.js"></script>
    <script src="js/text-show.js"></script>
    <script src="js/list_on_click.js"></script>
    <script src="js/carousel.js"></script>
    <script src="js/width.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!------------------------------------------------------------------------------------->
</body>

</html>